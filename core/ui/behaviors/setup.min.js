/*!
 * setup.js - General settings screen behaviors
 * Copyright Â© 2008-2010 by Ingenesis Limited
 * Licensed under the GPLv3 {@see license.txt}
 */
jQuery(document).ready(function(e){{var t,n=e("#base_operations_zone").selectize(),a=n[0].selectize;e("#base_operations").selectize({onChange:function(n){return""==n?(a.disable(),!0):(a.disable(),a.settings.placeholder=$ss.loading,a.updatePlaceholder(),a.clearOptions(),void a.load(function(o){t&&t.abort(),t=e.getJSON(zones_url+"&action=shopp_country_zones&country="+n,function(t){return 0==t||0==t.length?(a.settings.placeholder=" ",void a.updatePlaceholder()):(a.enable(),e.each(t,function(e,t){return 0==e?(a.settings.placeholder=sprintf($ss.prompt,[t]),void a.updatePlaceholder()):void a.addOption({text:t,value:e})}),void a.open())},function(){o()})}))}})}e("#selectall_targetmarkets").change(function(){e(this).attr("checked")?e("#target_markets input").not(this).attr("checked",!0):e("#target_markets input").not(this).attr("checked",!1)}),e("#target_markets ul").sortable({axis:"y",items:"li:has(input:checked):not(.quick-select)"})});